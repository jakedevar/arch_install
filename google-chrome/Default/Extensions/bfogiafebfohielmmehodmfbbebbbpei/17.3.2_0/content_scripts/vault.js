(()=>{var e=[,(e,t,r)=>{var n=r(2),o=r(3);e.exports=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:i,maxWait:t,trailing:a})}},(e,t,r)=>{var n=r(3),o=r(4),i=r(7),a=Math.max,s=Math.min;e.exports=function(e,t,r){var c,u,l,f,d,p,E=0,_=!1,h=!1,S=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function O(t){var r=c,n=u;return c=u=void 0,E=t,f=e.apply(n,r)}function T(e){var r=e-p;return void 0===p||r>=t||r<0||h&&e-E>=l}function v(){var e=o();if(T(e))return g(e);d=setTimeout(v,function(e){var r=t-(e-p);return h?s(r,l-(e-E)):r}(e))}function g(e){return d=void 0,S&&c?O(e):(c=u=void 0,f)}function m(){var e=o(),r=T(e);if(c=arguments,u=this,p=e,r){if(void 0===d)return function(e){return E=e,d=setTimeout(v,t),_?O(e):f}(p);if(h)return clearTimeout(d),d=setTimeout(v,t),O(p)}return void 0===d&&(d=setTimeout(v,t)),f}return t=i(t)||0,n(r)&&(_=!!r.leading,l=(h="maxWait"in r)?a(i(r.maxWait)||0,t):l,S="trailing"in r?!!r.trailing:S),m.cancel=function(){void 0!==d&&clearTimeout(d),E=0,c=p=u=d=void 0},m.flush=function(){return void 0===d?f:g(o())},m}},e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},(e,t,r)=>{var n=r(5);e.exports=function(){return n.Date.now()}},(e,t,r)=>{var n=r(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},(e,t,r)=>{var n=r(8),o=r(3),i=r(10),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}},(e,t,r)=>{var n=r(9),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},(e,t,r)=>{var n=r(11),o=r(15);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},(e,t,r)=>{var n=r(12),o=r(13),i=r(14),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},(e,t,r)=>{var n=r(5).Symbol;e.exports=n},(e,t,r)=>{var n=r(12),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,r){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,r){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function c(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function u(e){var t=void 0===e?"undefined":L(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,r,n,f,d,p){p=p||[];var E=(f=f||[]).slice(0);if(void 0!==d){if(n){if("function"==typeof n&&n(E,d))return;if("object"===(void 0===n?"undefined":L(n))){if(n.prefilter&&n.prefilter(E,d))return;if(n.normalize){var _=n.normalize(E,d,e,t);_&&(e=_[0],t=_[1])}}}E.push(d)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var h=void 0===e?"undefined":L(e),S=void 0===t?"undefined":L(t),O="undefined"!==h||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(d),T="undefined"!==S||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(d);if(!O&&T)r(new i(E,t));else if(!T&&O)r(new a(E,e));else if(u(e)!==u(t))r(new o(E,e,t));else if("date"===u(e)&&e-t!=0)r(new o(E,e,t));else if("object"===h&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&r(new o(E,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var v;for(e.length,v=0;v<e.length;v++)v>=t.length?r(new s(E,v,new a(void 0,e[v]))):l(e[v],t[v],r,n,E,v,p);for(;v<t.length;)r(new s(E,v,new i(void 0,t[v++])))}else{var g=Object.keys(e),m=Object.keys(t);g.forEach((function(o,i){var a=m.indexOf(o);a>=0?(l(e[o],t[o],r,n,E,o,p),m=c(m,a)):l(e[o],void 0,r,n,E,o,p)})),m.forEach((function(e){l(void 0,t[e],r,n,E,e,p)}))}p.length=p.length-1}else e!==t&&("number"===h&&isNaN(e)&&isNaN(t)||r(new o(E,e,t)))}function f(e,t,r,n){return n=n||[],l(e,t,(function(e){e&&n.push(e)}),r),n.length?n:void 0}function d(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case"A":d(o[r.path[n]],r.index,r.item);break;case"D":delete o[r.path[n]];break;case"E":case"N":o[r.path[n]]=r.rhs}}else switch(r.kind){case"A":d(e[t],r.index,r.item);break;case"D":e=c(e,t);break;case"E":case"N":e[t]=r.rhs}return e}function p(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)void 0===n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":d(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}function E(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case"A":E(o[r.path[n]],r.index,r.item);break;case"D":case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}else switch(r.kind){case"A":E(e[t],r.index,r.item);break;case"D":case"E":e[t]=r.lhs;break;case"N":e=c(e,t)}return e}function _(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":E(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}}function h(e,t,r){e&&t&&l(e,t,(function(n){r&&!r(e,t,n)||p(e,t,n)}))}function S(e){return"color: "+M[e].color+"; font-weight: bold"}function O(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"→",o];case"N":return[r.join("."),o];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+i+"]",a];default:return[]}}function T(e,t,r,n){var o=f(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}o?o.forEach((function(e){var t=e.kind,n=O(e);r.log.apply(r,["%c "+M[t].text,S(t)].concat(D(n)))})):r.log("—— no diff ——");try{r.groupEnd()}catch(e){r.log("—— diff end —— ")}}function v(e,t,r,n){switch(void 0===e?"undefined":L(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,D(r)):e[n];case"function":return e(t);default:return e}}function g(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+n),r&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function m(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,i=void 0===o?g(t):o,a=t.collapsed,s=t.colors,c=t.level,u=t.diff,l=void 0===t.titleFormatter;e.forEach((function(o,f){var d=o.started,p=o.startedTime,E=o.action,_=o.prevState,h=o.error,S=o.took,O=o.nextState,g=e[f+1];g&&(O=g.prevState,S=g.started-d);var m=n(E),A="function"==typeof a?a((function(){return O}),E,o):a,y=P(p),R=s.title?"color: "+s.title(m)+";":"",I=["color: gray; font-weight: lighter;"];I.push(R),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var b=i(m,y,S);try{A?s.title&&l?r.groupCollapsed.apply(r,["%c "+b].concat(I)):r.groupCollapsed(b):s.title&&l?r.group.apply(r,["%c "+b].concat(I)):r.group(b)}catch(e){r.log(b)}var N=v(c,m,[_],"prevState"),L=v(c,m,[m],"action"),D=v(c,m,[h,_],"error"),C=v(c,m,[O],"nextState");if(N)if(s.prevState){var M="color: "+s.prevState(_)+"; font-weight: bold";r[N]("%c prev state",M,_)}else r[N]("prev state",_);if(L)if(s.action){var w="color: "+s.action(m)+"; font-weight: bold";r[L]("%c action    ",w,m)}else r[L]("action    ",m);if(h&&D)if(s.error){var F="color: "+s.error(h,_)+"; font-weight: bold;";r[D]("%c error     ",F,h)}else r[D]("error     ",h);if(C)if(s.nextState){var x="color: "+s.nextState(O)+"; font-weight: bold";r[C]("%c next state",x,O)}else r[C]("next state",O);u&&T(_,O,r,A);try{r.groupEnd()}catch(e){r.log("—— log end ——")}}))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},w,e),r=t.logger,n=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return function(){return function(e){return function(t){return e(t)}}};var c=[];return function(e){var r=e.getState;return function(e){return function(u){if("function"==typeof i&&!i(r,u))return e(u);var l={};c.push(l),l.started=N.now(),l.startedTime=new Date,l.prevState=n(r()),l.action=u;var f=void 0;if(a)try{f=e(u)}catch(e){l.error=o(e)}else f=e(u);l.took=N.now()-l.started,l.nextState=n(r());var d=t.diff&&"function"==typeof s?s(r,u):t.diff;if(m(c,Object.assign({},t,{diff:d})),c.length=0,l.error)throw l.error;return f}}}}var y,R,I=function(e,t){return new Array(t+1).join(e)},b=function(e,t){return I("0",t-e.toString().length)+e},P=function(e){return b(e.getHours(),2)+":"+b(e.getMinutes(),2)+":"+b(e.getSeconds(),2)+"."+b(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},C=[];y="object"===(void 0===r.g?"undefined":L(r.g))&&r.g?r.g:"undefined"!=typeof window?window:{},(R=y.DeepDiff)&&C.push((function(){void 0!==R&&y.DeepDiff===f&&(y.DeepDiff=R,R=void 0)})),t(o,n),t(i,n),t(a,n),t(s,n),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:h,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:_,enumerable:!0},isConflict:{value:function(){return void 0!==R},enumerable:!0},noConflict:{value:function(){return C&&(C.forEach((function(e){e()})),C=null),f},enumerable:!0}});var M={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},w={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?A()({dispatch:t,getState:r}):void 0};e.defaults=w,e.createLogger=A,e.logger=F,e.default=F,Object.defineProperty(e,"__esModule",{value:!0})}(t)}],t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(1),t=r.n(e);function n(){const e=1==(void 0!==navigator.userAgentData&&void 0!==navigator.userAgentData.platform)?navigator.userAgentData:navigator.userAgent;if(!e)return null;if("string"==typeof e)switch(!0){case e.indexOf("Chrome")>-1:return"chrome";case e.indexOf("Firefox")>-1:return"firefox";case e.indexOf("Safari")>-1:return"safari"}else switch(!0){case Boolean(e.brands.find((e=>"Microsoft Edge"===e.brand))):return"edge";case Boolean(e.brands.find((e=>"Opera"===e.brand))):return"opera";case Boolean(e.brands.find((e=>"Google Chrome"===e.brand||"Chromium"===e.brand))):return"chrome";case Boolean(e.brands.find((e=>"Firefox"===e.brand||"Mozilla"===e.brand))):return"firefox";case Boolean(e.brands.find((e=>"Safari"===e.brand))):return"safari"}return null}window.location,window.parent.location;const o="firefox"===n(),i="safari"===n();function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s={addMessageListener:function(e){const t=(t,r,n)=>(e(t,r,n),!0);return chrome.runtime.onMessage.addListener(t),()=>{chrome.runtime.onMessage.removeListener(t)}},handleResponse:u,get messageCallbacks(){return window.messageCallbacks},onMessage:function(e){return function(t,r,n){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}t.name?t.name.indexOf("re:")>-1?u(t):e(t,r,n):t.cmd?(t.name="toVault",e(t,r,n)):["chromex.dispatch","chromex.patch_state","chromex.state"].includes(t.type)}},sendMessage:function(e,t,r){var n;const i=JSON.parse(JSON.stringify({name:e,params:t}));if("undefined"==typeof chrome||o)o&&Promise.resolve().then((()=>browser.runtime.sendMessage(i))).then((e=>{r&&r(e)})).catch((()=>{}));else try{chrome.runtime.sendMessage(i,(function(e){chrome.runtime.lastError,r&&r(e)}))}catch(e){}"undefined"!=typeof chrome&&null!==(n=chrome.runtime)&&void 0!==n&&n.lastError}};class c{constructor(){a(this,"bucket",new Map)}register(e){const t="k-"+Math.random().toString(36).substr(2);return this.bucket.set(t,e),t}invoke(e,...t){const r=this.bucket.get(e);r&&(this.bucket.delete(e),r(...t))}}function u(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return}e.callbackId&&window.messageCallbacks.invoke(e.callbackId,e.data)}window.messageCallbacks||(window.messageCallbacks=new c);let l=function(e){return e.GET="GET",e.SET="SET",e.ACTION="ACTION",e}({}),f=function(e){return e.GET_TAB_ID="getTabId",e.IS_SSO_USER="isSsoUser",e.MASTER_PASSWORD_REENTRY="masterPasswordReEntry",e.MUTATION_OBSERVER_DATA="mutation_observer_data",e.LAST_FILL_TIME_ON_INPUT_FIELD="lastFillTimeOnInputField",e.AUTO_FILL_RECORD="autoFillRecord",e.IS_SSO_PAGE="isSsoPage",e.RECORDS="records",e.RECORD_INFO="recordInfo",e.PASSKEY_RECORDS="passkeyRecords",e.PROMPT_APPEARS_FROM_LOCATION_DATA="promptAppearsFromLocationData",e.URL_MATCHED_RECORDS_GMH="urlMatchedRecordsGMH",e.ALL_CARDS_AND_ADDRESSES="allCardsAndAddresses",e.GET_DATA_BY_ID="getDataById",e.GET_RECORD_REF="getRecordRef",e.GET_FOLDERS="getFolders",e.IS_OFFLINE="isOffline",e.CHANGE_PASSWORD_PENDING="changePasswordPending",e.IS_NOT_APPENDED_TO_LOCK="isNotAppendedToLock",e.NEW_TOTP_TOKEN="newTotpToken",e.GENERATE_TOTP_PARAMS_GMH="generateTotpParamsGMH",e.GET_SHOULD_FIXINATOR_PROMPT="getShouldFixinatorPrompt",e.VERIFY_SSO_URL="verifySsoUrl",e.GET_SEARCH_RESULTS="getSearchResults",e.GET_LINKED_RECORD_OPTIONS="getLinkedRecordOptions",e.GET_RECORD_TEMPLATE="getRecordTemplate",e.GET_LOGS="getLogsGMH",e.GET_TEST_DOMAINS="testDomains",e.LATEST_SNAPSHOT="latestSnapshot",e}({});async function d(){return new Promise((e=>{s.sendMessage(f.GET_TAB_ID,{type:l.GET},(t=>{e(t)}))}))}let p=function(e){return e.ADD_ADDRESS="addAddress",e.ADD_CARD="addCard",e.ADD_RECORD="addRecord",e.DO_NOT_ASK="doNotAsk",e.FRAME_FILL="frameFill",e.LAST_INPUT_FIELD="lastInputField",e.LAST_FILL_TIME_ON_INPUT_FIELD_SMH="lastFillTimeOnInputField",e.LINK_CLICKED="linkClicked",e.OPEN_FIXINATOR_NEW_TAB="openFixinatorNewTab",e.REMOVE_FIXINATOR_PROMPT_SMH="removeFixinatorPrompt",e.SET_FIXINATOR_ATTR_FILL_SMH="setFixinatorAttrFill",e.SET_FIXINATOR_LOGIN_FILL_SMH="setFixinatorLoginFill",e.SET_FIXINATOR_REGISTRATION_FILL_SMH="setFixinatorRegistrationFill",e.SET_RECORD_CHANGE_PASSWORD="setRecordChangePassword",e.SET_SMART_FILL="setSmartfill",e.SETUP_NO_FILLING="setupNoFilling",e.SIZE_DRAGGABLE_ELEMENT_ON_HEADER="sizeDraggableElementOnHeader",e.SUCCESSFUL_AUTO_FILL="successfulAutoFill",e.UPDATE_RECORD_LAST_FILLED_SMH="updateRecordLastFilled",e.VAULT_SSO_PAGE="vaultSSOPage",e.OPEN_DEBUG_WINDOW="openDebugWindow",e}({}),E=function(e){return e.ACCOUNT_SHARE_CONFIRMATION="accountShareConfirmation",e.CHANGE_PASSWORD_FORM_SUBMITTED="changePasswordFormSubmitted",e.CHANGE_PASSWORD_REPOSITION="changePasswordReposition",e.CHANGE_TARGETED_LOCK="changeTargetedLock",e.CHECK_DARK_MODE_META="checkDarkModeMeta",e.CHECK_IF_SSO_LOGIN_SCREEN="checkIfSSOLoginScreen",e.CHECK_SSO_PAGE_ON_PREM="checkSSOPageOnPrem",e.CHECK_SSO_PAGE_CLOUD="checkSSOPageCloud",e.CLEANUP_DETECTION_TESTS="cleanupDetectionTests",e.CLEAR_ALL_STORAGE="clearAllStorage",e.CLEAR_IDB_STORAGE="clearIDBStorage",e.CLEAR_LOCAL_STORAGE="clearLocalStorage",e.CLEAR_THROTTLE_STATE="clearThrottleState",e.CLEAR_LOCAL_STORAGE_DEVLOGS="clearLocalStorageDevlogs",e.CLICKJACK_CHECK="clickjackCheck",e.CLOSE_FRAME="closeFrame",e.CLOSE_HOVER_DATA="closeHoverData",e.CLOSE_INPUT_HELPER="closeInputHelper",e.CLOSE_TAB_SSO_AMH="closeTabSso",e.CONFIRM_THIS_MESSAGE="confirmThisMessage",e.DEBUG_PAGE="openDebugPage",e.DEVLOGS_ADD="devlogsAdd",e.DISABLE_LOCKS="disableLocks",e.DISPLAY_IFRAME_ERROR_MESSAGE="displayIframeErrorMessage",e.DUO_SELECTION="duoSelection",e.ENABLE_HUMIO_FIX="enableHumioFix",e.FILL_CUSTOM_FIELDS="fillCustomFields",e.FILL_GIVEN_AUTOFILL_RECORD="fillGivenAutofillRecord",e.FILL_NON_SECURE_SITE="fillNonSecureSite",e.FILL_BASIC_AUTH="fillBasicAuth",e.FRAME_FILL_FIELD="frameFillField",e.GET_INPUT_VALUE_FOR_LOCK="getInputValueForLock",e.GIVE_RECORD_TOTP_IN_CUSTOM_FOR_FILLING="giveRecordTotpInCustomForFilling",e.HANDLE_VAULT_MESSAGE_AMH="handleVaultMessage",e.INIT_INJECTED_SCRIPT="initInjectedScript",e.INJECT_CSS="injectCSS",e.IS_POPUP_ATTACHED_TO_LOCK="isPopupAttachedToLock",e.LOAD_EXTENSION_CONTENTS="loadExtensionContents",e.MAKE_DRAGGABLE_ELEMENT_UNMOVABLE="makeDraggableElementUnmovable",e.MAKE_VOICE_OVER_ALERT="makeVoiceOverAlert",e.MASTER_PASSWORD_REENTRY_ACTION="masterPasswordReentryAction",e.MATCH_MEDIA_REQUEST="matchMediaRequest",e.MATCH_MEDIA_THEME_REQUEST="matchMediaThemeRequest",e.OPEN_EXTENSION_PAGE_IN_BG="openExtensionPageInBg",e.OPEN_PROMPT_FROM_DISABLE_TAB="openPromptFromDisableTab",e.OPEN_PROMPT_FROM_GROUPS="openPromptFromGroupsThunk",e.OPEN_PROMPT_FROM_IS_APPENDED_TO_LOCK="openPromptFromIsAppendedToLock",e.OPEN_PROMPT_FROM_OPEN_TO_SPECIFIC_SCREEN="openPromptFromOpenToSpecificScreen",e.OPEN_PROMPT_FROM_SHOW_PROMPT="openPromptFromShowPrompt",e.OPEN_PROMPT_FROM_EXTENSION_PAGE="openPromptFromExtensionPage",e.PING="ping",e.POST_MESSAGE_TO_ALL_IFRAMES="postMessageToAllIframes",e.REMOVE_CONTENT_SCRIPTS_V3="removeContentScripts",e.REMOVE_DO_NOT_PROMPT="remove_do_not_prompt",e.REMOVE_INPUT_OBSERVERS="removeInputObservers",e.REPOSITION_FRAME="repositionFrame",e.REPOSITION_OVERLAY="repositionOverlay",e.REQUEST_ADMIN_APPROVAL="request_admin_approval",e.REQUEST_RESPONSE="requestResponse",e.RESET_EXTENSION="resetExtension",e.RESET_INACTIVITY_TIMEOUT_AMH="resetInactivityTimeout",e.RESTORE_LOCKS="restoreLocks",e.REVERT_MOVABLE_HEADER="revertMovableHeader",e.ROLE_ENFORCEMENT_RESTRICTION="roleEnforcementRestriction",e.SAVE_PROMPT_VIEW_RECORD_SCREEN="savePromptViewRecordScreen",e.SEND_KEEPER_PUSH="send_keeper_push",e.SEND_KEY_TO_INPUT_ON_PAGE="sendKeyToInputOnPage",e.SHOW_CHANGE_PASSWORD_FROM_CS="showChangePasswordFromCS",e.SHOW_EXTENSION_FROM_FRAME="showExtensionFromFrame",e.SHOW_EXTENSION_FROM_FRAME_BY_PROMPT="showExtensionFromFrameByPrompt",e.SHOW_HOVER_DATA="showHoverData",e.SHOW_KEEPER_NOT_APPENDED_TO_LOCK="showKeeperNotAppendedToLock",e.SHOW_INPUT_HELPER="showInputHelper",e.SHOW_LOCAL_STORAGE="showLocalStorage",e.SHOW_IDB_STORAGE="showIDBStorage",e.SHOW_MP_REENTRY_ERROR_POPUP="showMPRentryErrorPopup",e.SHOW_PASSKEY_PROMPT="showPasskeyPrompt",e.SHOW_PROMPT_FROM_FRAME="showPromptFromFrame",e.SHOW_PREVIEW="showPreview",e.SSO_ACCOUNT_NEEDS_RESOLUTION="ssoAccountNeedsResolution",e.SSO_LOGIN="sso_login",e.TEST_ACTION="testAction",e.TEST_REMOVE_DOMAIN="testRemoveDomain",e.TEST_EXPIRED_SESSION="testExpiredSession",e.TEST_REMOVE_SUBDOMAIN="testRemoveSubdomain",e.SETUP_DETECTION_TESTS="setupDetectionTests",e.SET_VISIBILITY="setVisibility",e.START_OBSERVER="startObserver",e.START_PROMPTS="startPrompts",e.STEAL_FOCUS="stealFocus",e.SUPPLY_TRY_TO_PROMPT="supplyTryToPrompt",e.TOGGLE_LISTENER_FOR_CHANGE_PASSWORD_SUBMISSION="toggleListenerForChangePasswordSubmission",e.TOGGLE_VERIFY_MODE="toggleVerifyMode",e.TRY_SHOULD_FIXINATOR_PROMPT="tryShouldFixinatorPrompt",e.UPDATE_EXTENSION_CLASSES="updateExtensionClasses",e.UPDATE_FRAME_HEIGHT="updateFrameHeight",e.UPDATE_INPUT_OBSERVER="updateInputObserver",e.UPDATE_LOCKS_PAYLOAD="updateLocksPayload",e.USE_BACKUP_2FA="useBackup2FA",e.USE_DARK_MODE_HEADER="useDarkModeMeta",e.USE_WIDTH="useWidth",e.VALIDATE_2FA="validate_2fa",e.VAULT_VERSION_CHECK="vaultVersionCheck",e.WEBAUTHN_RESPONSE="webauthnResponse",e.USER_TRIGGERED_SYNC_DOWN="userTriggeredSyncDown",e.LOCK_FILL="lockFill",e}({}),_=function(e){return e.SET_INACTIVITY_TIMEOUT_LISTENER="setInactivityTimeoutListener",e.REMOVE_INACTIVITY_TIMEOUT_LISTENER="removeInactivityTimeoutListener",e.VAULT_FORCE_RELOAD="vaultForceReload",e.VAULT_VERSION_USES_ECIES_COMMUNICATION="vaultVersionUsesEciesCommunication",e}({});function h(e,t){if(e.includes(".")&&t.includes(".")){var r=parseInt(e.substr(0,e.indexOf("."))),n=parseInt(t.substr(0,t.indexOf("."))),o=e.slice(e.indexOf(".")+1),i=t.slice(t.indexOf(".")+1);return r>n||!(r<n)&&h(o,i)}return parseInt(e)>parseInt(t)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r){return function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function R(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I,b;var P=function(){if(b)return I;b=1;var e=9007199254740991,t="[object Arguments]",r="[object Function]",n="[object GeneratorFunction]",o=/^(?:0|[1-9]\d*)$/,i=Object.prototype,a=i.hasOwnProperty,s=i.toString,c=i.propertyIsEnumerable,u=Math.max;function l(e,r){var n=_(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&h(e)}(e)&&a.call(e,"callee")&&(!c.call(e,"callee")||s.call(e)==t)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=n.length,i=!!o;for(var u in e)i&&("length"==u||p(u,o))||n.push(u);return n}function f(e,t,r){var n=e[t];a.call(e,t)&&E(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function d(e){if(!S(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t,r,n,o=(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||i,t===n),s=[];for(var c in e)("constructor"!=c||!o&&a.call(e,c))&&s.push(c);return s}function p(t,r){return!!(r=null==r?e:r)&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<r}function E(e,t){return e===t||e!=e&&t!=t}var _=Array.isArray;function h(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function(e){var t=S(e)?s.call(e):"";return t==r||t==n}(t)}function S(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var O,T,v,g=(O=function(e,t){!function(e,t,r){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n];f(r,i,e[i])}}(t,function(e){return h(e)?l(e):d(e)}(t),e)},T=function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=O.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!S(r))return!1;var n=typeof t;return!!("number"==n?h(r)&&p(t,r.length):"string"==n&&t in r)&&E(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&O(e,a,r,o)}return e},v=u(void 0===v?T.length-1:v,0),function(){for(var e=arguments,t=-1,r=u(e.length-v,0),n=Array(r);++t<r;)n[t]=e[v+t];t=-1;for(var o=Array(v+1);++t<v;)o[t]=e[t];return o[v]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(T,this,o)});return I=g}(),N=R(P),L="chromex.dispatch",D="chromex.state",C="chromex.patch_state",M="chromex.port_name",w=function(e){return e},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return g(g({},e),e.payload?{payload:t(e.payload)}:{})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return function(n,o){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,r=arguments.length>2?arguments[2]:void 0;return r?function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return r.apply(void 0,[n].concat(i))?e.apply(void 0,[F(n,t)].concat(i)):e.apply(void 0,[n].concat(i))}:function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,[F(r,t)].concat(o))}}(n,e,o);return t(i),function(){r(i)}}}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];if(o.length<=r)throw new Error("Message in request could not be serialized. "+"Expected message in position ".concat(r," but only received ").concat(o.length," args."));return o[r]=F(o[r],e),t.apply(void 0,o)}}},U="updated",H="removed";function G(){var e;try{e=self.chrome||self.browser||browser}catch(t){e=browser}if(!e)throw new Error("Browser API is not present");return e}function j(){return G().runtime.getURL("").startsWith("safari-web-extension://")}var V="\nLooks like there is an error in the background page. You might want to inspect your background page for more details.\n",B=j(),K={portName:M,state:{},extensionId:null,serializer:w,deserializer:w,patchStrategy:function(e,t){var r=Object.assign({},e);return t.forEach((function(e){var t=e.change,n=e.key,o=e.value;switch(t){case U:r[n]=o;break;case H:Reflect.deleteProperty(r,n)}})),r}},W=function(){return O((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=r.portName,o=void 0===n?K.portName:n,i=r.state,a=void 0===i?K.state:i,s=r.extensionId,c=void 0===s?K.extensionId:s,u=r.serializer,l=void 0===u?K.serializer:u,f=r.deserializer,d=void 0===f?K.deserializer:f,p=r.patchStrategy,E=void 0===p?K.patchStrategy:p;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!o)throw new Error("portName is required in options");if("function"!=typeof l)throw new Error("serializer must be a function");if("function"!=typeof d)throw new Error("deserializer must be a function");if("function"!=typeof E)throw new Error("patchStrategy must be one of the included patching strategies or a custom patching function");this.portName=o,this.readyResolved=!1,this.readyPromise=new Promise((function(e){return t.readyResolve=e})),this.browserAPI=G(),this.extensionId=c,this.safetyHandler=this.storeReadyHandler.bind(this),this.readyMessage=this.browserAPI.runtime.onMessage.addListener(this.safetyHandler),this.deserializer=d,this.serializedPortListener=x(d)((function(e){return t.port.onMessage.addListener(e)}),(function(e){return t.port.onMessage.removeListener(e)})),this.portConnected=!1,this.connectPort=function(){t.port=t.browserAPI.runtime.connect(t.extensionId,{name:o}),B&&t.port.postMessage({type:D}),t.portConnected=!0;var e=t.serializedPortListener((function(e){switch(e.type){case D:t.replaceState(e.payload),t.readyResolved||(t.readyResolved=!0,t.readyResolve());break;case C:t.patchState(e.payload)}}));t.port.onDisconnect.addListener((function(){t.portConnected=!1,e()}))},this.connectPort(),this.serializedMessageSender=k(l)((function(){var e;return(e=t.browserAPI.runtime).sendMessage.apply(e,arguments)}),1),this.listeners=[],this.state=a,this.patchStrategy=E,this.dispatch=this.dispatch.bind(this)}),[{key:"ready",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.readyPromise.then(e):this.readyPromise}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"patchState",value:function(e){this.state=this.patchStrategy(this.state,e),this.listeners.forEach((function(e){return e()}))}},{key:"replaceState",value:function(e){this.state=e,this.listeners.forEach((function(e){return e()}))}},{key:"getState",value:function(){return this.state}},{key:"replaceReducer",value:function(){}},{key:"dispatch",value:function(e){var t=this;return new Promise((function(r,n){t.serializedMessageSender(t.extensionId,{type:L,portName:t.portName,payload:e},null,(function(e){if(e){var o=e.error,i=e.value;if(o){var a=new Error("".concat(V).concat(o));n(N(a,o))}else r(i&&i.payload)}else{var s=t.browserAPI.runtime.lastError,c=new Error("".concat(V).concat(s));n(N(c,s))}}))}))}},{key:"storeReadyHandler",value:function(e){"storeReady"===e.action&&e.portName===this.portName&&(this.portConnected||this.connectPort())}}])}();function Y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function z(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:e.getState.bind(e),dispatch:function(){return o.apply(void 0,arguments)}};return r=(r||[]).map((function(e){return e(i)})),o=Y.apply(void 0,m(r))(e.dispatch),e.dispatch=o,e}j();r(16);let X;function q(e){const t=new W({portName:"chromex.cs_"+e});X=z(t,...[])}async function J(e){return X.dispatch(e)}let $=function(e){return e.YES="yes",e.NO="no",e.UNKNOWN="unknown",e}({});const Q=e=>({type:"vault/eciesCommunication/SET",payload:e});s.addMessageListener((async function(e,t,r){switch(e.name){case _.SET_INACTIVITY_TIMEOUT_LISTENER:document.addEventListener("keyup",Z),document.addEventListener("mousemove",Z);break;case _.REMOVE_INACTIVITY_TIMEOUT_LISTENER:document.removeEventListener("keyup",Z),document.removeEventListener("mousemove",Z);break;case _.VAULT_FORCE_RELOAD:location.reload();break;case _.VAULT_VERSION_USES_ECIES_COMMUNICATION:for(const e of document.head.getElementsByTagName("meta"))if("version"===e.name&&e.content){X||q((await d()).tabId),h(e.content,"16.10.12")?J(Q($.YES)):J(Q($.NO));break}break;default:((e,t)=>{window.postMessage(e,document.location.origin),t&&t()})(e,r)}})),function e(){if(document&&document.body){var t=document.querySelector('meta[name="version"]').content;s.sendMessage(E.VAULT_VERSION_CHECK,{type:l.ACTION,data:{versionNumber:t}})}else setTimeout(e,10)}(),(o||i)&&window.addEventListener("message",(function(e){var t=e.data;if(document.location.origin===e.origin&&"ext"!==t.client)if("[object Uint8Array]"===Object.prototype.toString.call(t)){var r=Array.from(t);s.sendMessage(E.HANDLE_VAULT_MESSAGE_AMH,{type:l.ACTION,data:r},(function(e){}))}else s.sendMessage(E.HANDLE_VAULT_MESSAGE_AMH,{type:l.ACTION,data:t},(function(e){}))}));const Z=t()((e=>{s.sendMessage(E.RESET_INACTIVITY_TIMEOUT_AMH,{type:l.ACTION})}),2e3);window.addEventListener("beforeunload",(function(e){document.querySelector(".sso-title")&&s.sendMessage(p.VAULT_SSO_PAGE,{type:l.SET,data:!0})})),i&&window.addEventListener("pagehide",(function(e){document.querySelector(".sso-title")&&s.sendMessage(p.VAULT_SSO_PAGE,{type:l.SET,data:!0})})),document.addEventListener("keyup",Z),document.addEventListener("mousemove",Z)})()})();
