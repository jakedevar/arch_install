(self.webpackChunk=self.webpackChunk||[]).push([[1464],{9119:(e,t,r)=>{var o,n;r.d(t,{_:()=>n,d:()=>o}),function(e){e.Txt="txt",e.Rtf="rtf",e.Doc="doc",e.Docx="docx",e.Pdf="pdf",e.Md="md",e.Json="json",e.Xml="xml",e.Html="html",e.Htm="htm",e.Csv="csv",e.Xls="xls",e.Xlsx="xlsx",e.Ppt="ppt",e.Pptx="pptx"}(o||(o={})),function(e){e.Assistant="assistant",e.CustomTone="customTone",e.CustomAudience="customAudience",e.AiGraderRubrics="aiGraderRubrics"}(n||(n={}))},82849:(e,t,r)=>{r.d(t,{p:()=>D});var o=r(651),n=r(29246),i=r(90023),a=r(14527),s=r(78462);const c=e=>e.reduce(((e,t)=>(0,i.zG)(t,s.FS.matchOperation({onInsert:t=>e.insert(t),onDelete:t=>e.delete(t.length),onRetain:t=>e.retain(t.length)}))),new a.i);var d=r(45107),u=r(4661),l=r(39560),h=r(92379);const f=({visible:e,transitionDuration:t,color:r,opacity:n})=>{const i=function(e){const t=(0,h.useCallback)((t=>{const r=e.subscribe((()=>t()));return()=>r.unsubscribe()}),[e]);return(0,h.useSyncExternalStore)(t,(()=>e.get()),(()=>e.get()))}(e);return(0,o.jsx)(u.M,{children:i&&(0,o.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:null!=n?n:.2},exit:{opacity:0,transition:{duration:t}},transition:{duration:t,ease:"easeInOut"},style:{backgroundColor:r,width:"100%",height:"100%"}})})};var p=r(58208),v=r(89828),g=r(33885),w=r(59179),m=r(31601),b=r(2187),_=Object.defineProperty,y=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,I=(e,t,r)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const k=({vbarProps:e,onShow:t})=>((0,h.useEffect)(t,[t]),(0,o.jsx)(g.F.Fragment,{children:b.Tq.toObservable(e).pipe((0,w.U)((e=>(0,o.jsx)(m.Js,((e,t)=>{for(var r in t||(t={}))C.call(t,r)&&I(e,r,t[r]);if(y)for(var r of y(t))S.call(t,r)&&I(e,r,t[r]);return e})({},e)))))}));var x=r(58303),$=r(13391),G=r(20161),E=r(84714),z=r(7777),R=r(88807);const D=({agentId:e,pushedContentService:t,vbarFeedbackService:r,trackingServiceProvider:a,decorationsFactory:s,activeVbarId:u,vbarRenderOverrides:l,highlightRenderOverrides:h,trustedRewrite:m,uphookHubClient:_,next:y,previous:C,agentMetadataSource:S,experimentationBridge:I,userService:D})=>{const P={service:a.getTrackingService()};return{[d.Z.Vbar]:e=>{const t=u.pipe((0,w.U)(x.FS)).pipe((0,w.U)((t=>({color:n.h.getGDSColor(e),primaryText:e.notification.notificationElement.explanation,primaryTextColor:n.h.getGDSTextColor(e),strokeColor:n.h.getGDSStrokeColor(e),fillColor:n.h.getGDSFillColor(e),isActive:t===e.contentId}))),(0,G.w)((t=>null!=l&&l.getVBarProps?b.Tq.toObservable(l.getVBarProps(t,e)):(0,E.of)(t))));return s.createVbar(`vbar_${e.contentId}`,e.contentId,e.notification.notificationElement.range,(0,o.jsx)(k,{onShow:()=>r.vbarShown(e),vbarProps:t},e.contentId),U(e))},[d.Z.VbarCard]:(a,d)=>{var u,h;const f=()=>{r.vBarCardShown(a),n.h.isWithRewriteOrComment(a)&&g(a)},g=e=>{n.h.isLocked(e)&&t.unlock(e),n.h.isWithRewriteOrComment(e)&&r.vBarCardRewriteOrCommentShown(e),n.h.isUphook(e)&&_.trackUphookEvent(e.surface.uphookConfig,"show")},w=null==(u=null==l?void 0:l.getCardProps)?void 0:u.call(l,{},a),b=null!=(h=null==w?void 0:w.isVbarCardReadabilityEnabled)&&h,S="citationFinder"!==e&&D.user.free&&I.isAssigned(p.np,"test"),k=(0,i.zG)(a,x.DT(n.h.isWithRewrite),x.tS((e=>(0,i.zG)(t.getDiff(e),x.Uo,x.UI((t=>({diff:t,item:e})))))),x.UI((({diff:e,item:t})=>z.Z.create(t,e,"resetState",b))));return s.createVbarCard(`vbar_card_${a.contentId}`,a.contentId,a.notification.notificationElement.range,(s=>{var u,h,p,g;return(0,o.jsx)(R.U.Provider,{value:P,children:(0,o.jsx)(v.X,{title:null!=(p=null!=(h=null==(u=null==l?void 0:l.getCardTitle)?void 0:u.call(l,a))?h:a.surface.explanation)?p:a.surface.title,overrides:l,item:a,rewriteViewModel:k,navigationEnabled:$.h.create(!1),visible:d,alignment:s,isVbarPrioritizeDynamicCopyEnabled:S,apply:o=>{n.h.isWithRewrite(a)&&(r.vBarCardRewriteApplied(a),requestAnimationFrame((()=>t.apply(a.contentId,{agentId:e,agentMetadata:U(a)},m(a),(0,i.zG)(x.ij(null==o?void 0:o.delta),x.UI((e=>({change:e}))),x.wp((()=>(0,i.zG)(k,x.UI((e=>(0,i.zG)(e.state.view("diff").get(),x.fS((()=>[]))))),x.UI(c),x.UI((e=>({change:e})))))),x.FS)))))},dismiss:()=>{(e=>{n.h.isWithRewriteOrComment(e)&&r.vBarCardRewriteOrCommentDismissed(e),n.h.isUphook(e)&&_.trackUphookEvent(e.surface.uphookConfig,"dismiss")})(a),t.dismiss(a.contentId)},markResolved:()=>{(e=>{n.h.isWithComment(e)&&r.vBarCardCommentMarkResolved(e)})(a),t.markResolved(a.contentId)},onGenerateCitationClicked:()=>{(e=>{n.h.isWithComment(e)&&r.vBarCardCommentGenerateCitationClicked(e)})(a)},prev:()=>C(),next:()=>y(),onCopy:e=>{var t;const o=null!=(t=null==e?void 0:e.content)?t:n.h.isCommentSurface(a.surface)&&a.surface.rewrite||a.surface.text;"string"==typeof o?navigator.clipboard.writeText(o):navigator.clipboard.write(o.slice()),n.h.isWithRewriteOrComment(a)&&r.vBarCardRewriteOrCommentCopied(a)},openUphook:()=>{n.h.isUphook(a)&&(r.vBarCardUphookClick(a),_.trackUphookEvent(a.surface.uphookConfig,"click"),self.open("uphookRewriteCard"===a.surface.kind?a.surface.uphookRewrite.ctaUrl:a.surface.uphookComment.ctaUrl,"_blank"))},onPushedContentAction:e=>{"launchAgentAction"!==e.type?(t.sendExecuteActionMessage({contentId:a.contentId,clientContext:{},request:e}),n.h.isWithComment(a)&&r.vBarCardRewriteRequested(a)):t.changeAgent(x.ij(e.agentId))},onMount:f,expertReviewCardActions:n.h.isWithComment(a)?{onExpertInfoExpand:()=>r.vBarCardCommentInfoBoxExpanded(a)}:void 0,discoverabilityActions:n.h.isWithPromotion(a)&&void 0!==a.surface.promotion?{changeAgent:()=>{var e;return t.changeAgent(x.ij(null==(e=a.surface.promotion)?void 0:e.agentId))}}:void 0,iconProps:null==(g=null==l?void 0:l.getCardIcon)?void 0:g.call(l,a)},a.contentId)})}),U(a))},[d.Z.Highlight]:(e,t)=>s.createHighlight(`highlight_${e.contentId}`,e.contentId,e.notification.notificationElement.range,(0,o.jsx)(g.F.Fragment,{children:u.view((r=>(0,o.jsx)(f,{visible:t,color:n.h.getGDSColor(e),opacity:null!=h&&h.alwaysVisible&&x.WG(r)===e.contentId?.4:void 0})))})),[d.Z.ParagraphHighlight]:e=>s.createParagraphHighlight(`paragraph_highlight_${e.contentId}`,e.contentId,e.notification.notificationElement.range,"rgba(127, 127, 127, 0.1)")};function U(e){if(S)return"function"==typeof S?S(e):S.get()(e)}}},64900:(e,t,r)=>{r.d(t,{pS:()=>Q});var o,n=r(29246),i=r(93806),a=r(64271),s=r(84308),c=r(84714),d=r(954),u=r(78129),l=r(59179),h=r(90572),f=r(32734),p=r(20161),v=r(24666),g=r(29416),w=r(63532),m=r(90023),b=r(86214),_=r(48886),y=r(97225),C=r(9141),S=r(84210),I=r(31851),k=r(37159),x=r(14944),$=r(14911),G=r(18397),E=r(52071);!function(e){let t;!function(e){e.ord=x.r9,e.show=G._3}(t=e.Id||(e.Id={}));var r=e.ordId=x.Uz((e=>e.id))(x.r9),o=e.ordHRange=x.Uz((e=>e.alert.getHighlightRanges()[0]))(E.SV.ord),n=e.ordVersion=x.Uz((e=>e.version))(x.Mh),i=e.ord=(0,$.g_)(x.jG())(o,[r,n]),a=e.show={show:e=>`Alert #(${e.id}, version:${e.version}, state:${e.state.type}, mute:${e.mute})`};e.ordShow=(0,k._)({},i,a);e.create=function(e){return{alert:e,id:e.id,state:e.state,counters:e.counters,version:e.version,mute:e.mute,extraProperties:e.extraProperties}};e.isRegistered=e=>"REGISTERED"===e.state.type}(o||(o={}));var z,R,D,P=r(59833),U=r(58303),V=r(9615),O=r(28338),j=r(73823),F=r(46890),M=r(12518),q=r(2245),H=r(21147),T=r(16429);!function(e){e.iso=S.k4(),e.empty={entries:new Map,order:[],latestChangeDiff:b.vh.empty(),diffVersion:0};function t(e,t){return r=>r.order.reduce(((e,o)=>((0,O.kG)(r.entries.has(o),"got corrupted state"),t(e,r.entries.get(o)))),e)}e.get=function(e){return t=>U.ij(t.entries.get(e))},e.find=function(e){return t(U.YP,((t,r)=>(0,m.zG)(t,U.wp((()=>U.DT(e)(r))))))},e.reduce=t;e.size=e=>e.entries.size;function r({added:e=new Map,updated:t=new Map,removed:r=new Map}){const n=new Map,i=b.vh.fromMutation((i=>{r.forEach(((e,t)=>{i.set(t,y.t$(e))})),e.forEach(((e,t)=>{i.has(t)?n.set(t,`alert add overlaps with alert remove: toAdd(${o.show.show(e)} overlapWith(${y.ZN(o.show,o.show).show(i.get(t))}))`):i.set(t,y.F2(e))})),t.forEach((([e,t],r)=>{i.has(r)?n.set(r,`alert update overlaps with unexpected alert add/remove: toUpdate(${o.show.show(t)}) overlapWith(${y.ZN(o.show,o.show).show(i.get(r))}))`):i.set(r,y.Hk(e,t))}))}));return n.size>0?M.t$({recovered:i,rejected:n}):M.F2(i)}e.diff=function(e,t){return 0===e.diffVersion?j.MH(r({added:t.entries})):e.diffVersion+1===t.diffVersion?t.latestChangeDiff:F.yi(o.ord)(e.entries,t.entries)},e.applyDiff=function(e){return t=>{const r=F.QT(F.kH.createStrict(o.ordShow),t.entries,e);return(0,m.zG)(r,M.Pd((r=>{const o=b.vh.fromMutation((t=>{(0,m.zG)(e,b.vh.forEach(((e,o)=>!r.rejected.has(o)&&t.set(o,y.t$(e))),((e,o,n)=>!r.rejected.has(n)&&t.set(n,y.Hk(e,o))),((e,o)=>!r.rejected.has(o)&&t.set(o,y.F2(e)))))}));return{recovered:s(r.recovered,o,t.diffVersion),rejected:r.rejected}}),(r=>s(r,e,t.diffVersion))))}},e.applyDiffLoose=function(e){return t=>{const r=F.QT(F.kH.createLoose(o.ordShow),t.entries,e);return(0,m.zG)(r,M.Pd((r=>({recovered:s(r.recovered,e,t.diffVersion),rejected:r.rejected})),(r=>s(r,e,t.diffVersion))))}},e.createDiff=r,e.toJSON=function(e){return{entries:Array.from(e.entries),order:e.order,latestChangeDiff:b.vh.toJSON(e.latestChangeDiff),diffVersion:e.diffVersion}};var n=e.diffEqShow=(0,k._)({},b.vh.getEq(o.Id.ord,o.ord),b.vh.getShow(o.Id.show,o.show));const i=(0,k._)({},q.Eh(o.Id.ord,o.ord),q.ZN(o.Id.show,o.show)),a=(0,k._)({},P.Eh(o.Id.ord),P.ZN(o.Id.show));e.contentEqShow=(0,k._)({},H.MW({entries:i,order:a,latestChangeDiff:T.wX,diffVersion:T.wX}),G.aM({entries:i,order:a,latestChangeDiff:n,diffVersion:V.di})),e.eqShow=(0,k._)({},H.MW({entries:i,order:a,latestChangeDiff:n,diffVersion:V.Eq}),G.aM({entries:i,order:a,latestChangeDiff:n,diffVersion:V.di}));function s(e,t,r){return{entries:e,order:(0,m.zG)(e,q.VO(o.ord),P.UI((e=>e.id))),latestChangeDiff:t,diffVersion:r+1}}}(z||(z={})),function(e){e.empty=z.empty;e.applyDiff=function(e){return(0,m.ls)(z.applyDiffLoose(e),M.Vn((e=>({recovered:e.recovered,rejected:e.rejected}))))},e.toCheckingResult=function(e){return z.iso.wrap(e)}}(R||(R={})),function(e){let t;!function(e){e.show=b.vh.getShow(C.di,o.show),e.eq=b.vh.getEq(o.Id.ord,o.ord),e.empty=()=>b.vh.empty();e.toRegistered=function(e){return b.vh.fromMutation((t=>{(0,m.zG)(e,b.vh.forEach(((e,r)=>o.isRegistered(e)&&t.set(r,y.t$(e))),((e,r,n)=>{o.isRegistered(e)?o.isRegistered(r)?t.set(n,y.Hk(e,r)):t.set(n,y.t$(e)):o.isRegistered(r)&&t.set(n,y.F2(r))}),((e,r)=>o.isRegistered(e)&&t.set(r,y.F2(e)))))}))},e.filter=function(e){return b.vh.filter(e,((t,r)=>e(t)&&e(r)),e)}}(t=e.Diff||(e.Diff={}));e.empty=z.iso.wrap(z.empty),e.eq=S.Eh(z.eqShow),e.show=z.eqShow;e.get=function(e){return(0,m.ls)(z.iso.unwrap,z.get(e))},e.reduce=function(e,t){return(0,m.ls)(z.iso.unwrap,z.reduce(e,t))},e.diff=function(e,t){return z.diff(z.iso.unwrap(e),z.iso.unwrap(t))},e.isEmpty=function(e){return 0===z.iso.unwrap(e).entries.size},e.find=function(e){return(0,m.ls)(z.iso.unwrap,z.find(e))},e.size=function(){return(0,m.ls)(z.iso.unwrap,z.size)},e.from=function(e){return(0,m.zG)(z.createDiff({added:e.reduce(((e,t)=>e.set(t.id,o.create(t))),new Map)}),I.T.recover(m.Q1),R.applyDiff,_.UI((0,m.ls)(I.T.recover(m.Q1),z.iso.wrap)))(z.empty)}}(D||(D={}));var W=r(5588),B=r(93440),A=r(46734),K=r(85473),Z=r(13391),X=r(2373),Y=r(45107);(0,m.ls)((0,g.b)(100),(0,d.O)(D.empty),(0,l.U)((e=>(0,m.zG)(e,D.reduce(new Map,((e,t)=>(e.set(L(t.id),t),e)))))),(0,u.G)(),(0,l.U)((0,m.og)(K.yi(o.ord))));function L(e){return X.wQ.Id.create(e.toString().split("_")[0])}var N=r(39104);var Q;function J(e){return t=>{const r=i.$.size()(e());return 0===r?0:(t+1)%r}}function ee(e){return(0,m.ls)(i.$.getByIndex(e),U.hX(n.z.isVBar))}function te(e,t=e){return r=>{const o=i.$.size()(r);return 0===o?U.YP:(0,m.zG)(r,ee(e),U.wp((()=>{const n=J((()=>r))(e),i=(t%o+o)%o;return n===i?ee(i)(r):te(n,t)(r)})))}}(Q||(Q={})).create=({agentId:e,pushedContentService:t,vbarFeedbackService:r,trackingServiceProvider:o,decorationsFactory:_,decorationService:y,isActive:C,getDecorationFactory:S,itemsFilter:I,agentMetadataSource:k,vbarRenderOverrides:x,highlightRenderOverrides:$,uphookHubClient:G,trustedRewrite:E=m.W8,overlapsResolver:z=m.yR,experimentationBridge:R,userService:D})=>{const{activeId:V,tracker:O}=function(e,t){const r=Z.h.create(U.YP),o=e.hoveredDecorations.pipe((0,l.U)((0,m.ls)((0,P.Ew)((e=>[Y.Z.Vbar,Y.Z.ParagraphHighlight,Y.Z.VbarCard].includes(e.type))),U.UI((e=>e.sourceId)))),(0,W.D)(U.g_((()=>(0,B.H)(t)),(()=>(0,B.H)(0)))),(0,w.b)((e=>r.set(e))),(0,A.l)());return{activeId:r,tracker:o}}(y,500),j="function"==typeof I?Z.h.create(I):null!=I?I:Z.h.create(m.W8),F=Z.h.combine(t.contentState,j,C,((e,t,r)=>r?i.$.filter(t)(e):i.$.empty)).view(z),q=Z.h.create(0),H=S({agentId:e,pushedContentService:t,vbarFeedbackService:r,trackingServiceProvider:o,decorationsFactory:_,activeVbarId:V,vbarRenderOverrides:x,agentMetadataSource:k,highlightRenderOverrides:$,trustedRewrite:E,next:()=>{q.modify((0,m.zG)(F.get,J)),y.setFocusMode(U.G(Y.Z.Vbar))},previous:()=>{q.modify(function(e){return t=>{const r=i.$.size()(e());return 0===r?0:(t-1+r)%r}}((()=>F.get()))),y.setFocusMode(U.G(Y.Z.Vbar))},uphookHubClient:G,experimentationBridge:R,userService:D}),T=e=>(0,P.xH)([[H[Y.Z.Vbar](e)],null!=$&&$.alwaysVisible?[H[Y.Z.Highlight](e,Z.h.create(!0))]:[]]);return{activationDelayAfterInteraction:500,decorationChanges:(0,a.T)(O,F.pipe((0,d.O)(i.$.empty),(0,u.G)(),(0,l.U)((0,m.og)(i.$.diff)),(0,l.U)((0,m.ls)(i.$.Diff.filter((0,N.W9)(n.z.isVBar,n.h.isWithRewriteOrComment)),b.vh.map((0,m.ls)(r.removeFromTracking,T),((e,t)=>[T(e),T(t)]),T))),(0,h.h)((e=>!b.vh.isEmpty(e))))).pipe((0,f.B)()),focusModeDecoration:(0,a.T)(y.focusModeDecorationType.pipe((0,p.w)((e=>(0,m.zG)(e,U.Gg((e=>e===Y.Z.Vbar)))?(0,s.a)([F,q]).pipe((0,v.x)((([e],[t])=>i.$.size()(t)===i.$.size()(e))),(0,v.x)((([e,t],[r,o])=>{const n=(0,m.zG)(e,i.$.getByIndex(t),U.UI((e=>e.contentId))),a=(0,m.zG)((0,m.zG)(r,i.$.get(U.fS((()=>""))(n)),U.pC));return t===o&&a})),(0,l.U)((([e,t])=>(0,m.zG)(e,te(t)))),(0,v.x)(U.Eh(n.z.ordId).equals),(0,g.b)(1),(0,l.U)(U.UI(H[Y.Z.Vbar])),(0,w.b)((e=>{U.pC(e)&&q.set(i.$.indexOf(e.value.sourceId)(F.get()))}))):(q.set(0),(0,c.of)(U.YP)))))),createActiveDecoration:(e,t)=>(0,m.zG)(F.get(),i.$.get(t.sourceId),U.hX((0,N.W9)(n.z.isVBar,n.h.isWithRewriteOrComment)),U.UI((o=>{const n=Z.h.create(!0);return U.G({type:"volatile",fromEvent:e,source:t,decorations:(0,P.xH)([null!=$&&$.alwaysVisible?[]:[H[Y.Z.Highlight](o,n)],[H[Y.Z.VbarCard](o,n)]]),release:()=>(n.set(!1),r.vBarCardClosed(o),(0,N.gw)(300))})})),(0,M.Yo)((()=>new Error(`Could not find a vbar content item for ${t.sourceId}. Event: ${e}`))))}}},50373:(e,t,r)=>{r.d(t,{dX:()=>a});var o,n,i,a,s=r(9141),c=r(21147),d=r(53186),u=r(90023),l=Object.defineProperty,h=Object.defineProperties,f=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,w=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))v.call(t,r)&&w(e,r,t[r]);if(p)for(var r of p(t))g.call(t,r)&&w(e,r,t[r]);return e},b=(e,t)=>h(e,f(t));(n=o||(o={})).DecorationSourceSymbol=Symbol("DecorationSource"),n.annotateItem=e=>t=>{const r=b(m({},t),{[n.DecorationSourceSymbol]:e});return i.is(r)?b(m({},r),{decorations:(0,u.zG)(r.decorations,(0,d.UI)((0,n.annotateItem)(e)))}):r},(e=>{e.is=e=>"source"in e&&"decorations"in e,(e.TriggerEvent||(e.TriggerEvent={})).isFromUser=e=>"click"===e||"hover"===e,e.eqSourceId=(0,c.Uz)((e=>e.source.id))(s.Eq)})(i||(i={})),(e=>{var t;e.Id=(e,t)=>`${e}-${t}`,(t=e.Collection||(e.Collection={})).empty=()=>({}),t.create=(r,o)=>Object.entries(o).reduce(((t,[o,n])=>(t[(0,e.Id)(r,o)]=n,t)),(0,t.empty)())})(a||(a={}))},2650:(e,t,r)=>{r.d(t,{r:()=>o});r(64443);var o=(e=>(e.Background="Background",e.SingleThread="SingleThread",e.Regular="Regular",e))(o||{})},88012:(e,t,r)=>{r.d(t,{w:()=>o});var o,n=r(32073);(e=>{e.EMPTY=n.w0.EMPTY;e.Keeper=class{constructor(){this._subs=[]}push(...e){this._subs.push(...e)}dispose(){this._subs.forEach((e=>{"unsubscribe"in e?e.unsubscribe():e.dispose()})),this._subs=[]}}})(o||(o={}))},16429:(e,t,r)=>{r.d(t,{wX:()=>o});const o={equals:()=>!0}},46890:(e,t,r)=>{if(r.d(t,{kH:()=>h,uz:()=>v,QT:()=>l,yi:()=>u}),6052!=r.j)var o=r(2245);var n=r(90023),i=r(86214);if(6052!=r.j)var a=r(2084);var s=r(12518),c=r(97225);var d=r(58303);function u(e){return(t,r)=>i.vh.fromMutation((o=>(t.forEach(((t,n)=>{if(r.has(n)){const i=r.get(n);e.equals(t,i)||o.set(n,(0,c.Hk)(t,i))}else o.set(n,(0,c.t$)(t))})),r.forEach(((r,n)=>{if(t.has(n)){const i=t.get(n);e.equals(i,r)||o.set(n,(0,c.Hk)(i,r))}else o.set(n,(0,c.F2)(r))})),o)))}const l=p(n.yR);p((function(e){return(0,c.WP)(e)?(0,c.Hk)(e.right,e.left):(0,s.LF)(e)}));var h,f;function p(e){return(t,r,o)=>{const a=new Map(r),u=new Map;return(0,i.k4)().unwrap(o).forEach(((r,o)=>{(0,n.zG)(r,e,t((0,d.ij)(a.get(o))),(0,c.Pd)((e=>u.set(o,e)),(0,d.g_)((()=>{a.delete(o)}),(e=>a.set(o,e)))))})),u.size>0?(0,s.t$)({recovered:a,rejected:u}):(0,s.F2)(a)}}function v(e){return(t,r)=>{const i=[],s=new Map(t);return r.forEach(((t,r)=>{(0,n.zG)(o.FP(e)(r,s),(0,a.ew)((()=>i.push(r))))})),i}}(f=h||(h={})).createStrict=function(e){return t=>(0,c.g_)((r=>(0,d.Wi)(t)?(0,c.t$)(`can not remove non existent entry: left(${e.show(r)})`):e.equals(t.value,r)?(0,c.F2)(d.YP):(0,c.t$)(`can not remove non equal entry: target(${e.show(t.value)}) left(${e.show(r)})`)),(r=>(0,d.pC)(t)?(0,c.t$)(`can not add existent entry: target(${e.show(t.value)}) right(${e.show(r)})`):(0,c.F2)((0,d.G)(r))),((r,o)=>e.equals(r,o)?(0,c.t$)(`can not apply update with equals parts: left(${e.show(r)}) right(${e.show(o)})`):(0,d.Wi)(t)?(0,c.t$)(`can not update non existent entry: left(${e.show(r)}) right(${e.show(o)})`):e.equals(t.value,r)?(0,c.F2)((0,d.G)(o)):(0,c.t$)(`can not apply update on non equal entry: target(${e.show(t.value)}) left(${e.show(r)}) right(${e.show(o)})`)))},f.createLoose=function(e){return t=>(0,c.g_)((r=>(0,d.Wi)(t)?(0,c.t$)(`can not remove non existent entry: left(${e.show(r)})`):e.equals(t.value,r)?(0,c.F2)(d.YP):(0,c.Hk)(`removed non equal entry: target(${e.show(t.value)}) left(${e.show(r)})`,d.YP)),(r=>(0,d.pC)(t)?(0,c.Hk)(`existent entry was overwritten: target(${e.show(t.value)}) right(${e.show(r)})`,(0,d.G)(r)):(0,c.F2)((0,d.G)(r))),((r,o)=>{const i=e.equals(r,o)?(0,d.G)("unexpected equal parts in provided update"):d.YP;return(0,d.Wi)(t)?(0,c.Hk)((0,n.zG)(i,(0,d.UI)((e=>e+", ")),(0,d.fS)((()=>"")))+`update applied on non existent entry: left(${e.show(r)}) right(${e.show(o)})`,(0,d.G)(o)):e.equals(t.value,r)?(0,n.zG)(i,(0,d.UI)((t=>t+`: left(${e.show(r)}) right(${e.show(o)})`)),(0,d.g_)((()=>(0,c.F2)((0,d.G)(o))),(e=>(0,c.Hk)(e,(0,d.G)(o))))):(0,c.Hk)((0,n.zG)(i,(0,d.UI)((e=>e+", ")),(0,d.fS)((()=>"")))+`update applied on non equal entry: target(${e.show(t.value)}) left(${e.show(r)}) right(${e.show(o)})`,(0,d.G)(o))}))}},5588:(e,t,r)=>{r.d(t,{D:()=>s});var o=r(19064),n=r(198),i=r(96643),a=r(16537);function s(e){return(0,o.e)((function(t,r){var o=!1,s=null,c=null,d=function(){if(null==c||c.unsubscribe(),c=null,o){o=!1;var e=s;s=null,r.next(e)}};t.subscribe((0,i.x)(r,(function(t){null==c||c.unsubscribe(),o=!0,s=t,c=(0,i.x)(r,d,n.Z),(0,a.Xf)(e(t)).subscribe(c)}),(function(){d(),r.complete()}),void 0,(function(){s=c=null})))}))}},58208:(e,t,r)=>{r.d(t,{eZ:()=>i,np:()=>n});var o=r(80891);new o.KS("ai_editor_test_experiment",["test","control"]),new o.KS("ai_editor_beta2",["test","control"]),new o.KS("ai_editor_beta2_new",["test","control"]),new o.KS("ai_editor_beta2_existing",["test","control"]),new o.KS("ai_editor_beta_for_community",["test","control"]),new o.KS("ai_editor_beta",["test","control"]),new o.KS("ai_editor_rollout_primary_new",["test"]),new o.KS("ai_editor_rollout_primary_existing",["test"]),new o.KS("ai_editor_rollout_secondary",["test"]),new o.KS("proofreader_static_categories_exp",["test","control"]),new o.KS("ai_editor_rollout_primary",["test"]),new o.KS("ai_editor_new_home_screen_new_users",["control","test1"]),new o.KS("ai_editor_new_home_screen_existing_users",["control","test1"]),new o.KS("ai_editor_new_home_screen_existing_pro_users",["control","test1"]),new o.KS("ai_editor_denali_new_home_screen_existing_pro_users",["control","test1"]),new o.KS("proofreader_vbar_card_readabililty",["control","test"]);const n=new o.KS("ai_editor_vbars_prioritize_dynamic_copy",["control","test"]),i=(new o.KS("proofreader_set_goals_and_titles_exp",["control","test"]),new o.KS("proofreader_agent_feed_revival",["control","test"]),new o.KS("ai_editor_plagiarism_ai_detector_uphook_redesign",["control","test"]),new o.KS("ai_editor_dunning_modal",["control","test"]),new o.KS("readers_reaction_rename",["control","insights","audience_insight","feedback_predictor"]))}}]);